module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports=require("react")},function(t,e,n){"use strict";function r(t){this.settings=_.defaults(t,{debug:!0,protocols:[],args:{},automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"blob"}),this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var e,n=this,o=!1,i=!1,c=document.createElement("div");function s(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}c.addEventListener("open",(function(t){n.onopen(t)})),c.addEventListener("close",(function(t){n.onclose(t)})),c.addEventListener("connecting",(function(t){n.onconnecting(t)})),c.addEventListener("message",(function(t){n.onmessage(t)})),c.addEventListener("error",(function(t){n.onerror(t)})),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(t){if((e=new WebSocket("".concat(n.settings.url),n.settings.protocols,{})).rejectUnauthorized=!1,e.binaryType=this.settings.binaryType,t){if(this.settings.maxReconnectAttempts&&this.reconnectAttempts>this.settings.maxReconnectAttempts)return}else c.dispatchEvent(s("connecting")),this.reconnectAttempts=0;(n.settings.debug||r.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",n.url);var u=e,a=setTimeout((function(){(n.settings.debug||r.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",n.url),i=!0,u.close(),i=!1}),n.settings.timeoutInterval);e.onopen=function(o){clearTimeout(a),(n.settings.debug||r.debugAll)&&console.debug("ReconnectingWebSocket","onopen",n.url),n.protocol=e.protocol,n.readyState=WebSocket.OPEN,n.reconnectAttempts=0;var i=s("open");i.isReconnect=t,t=!1,c.dispatchEvent(i)},e.onclose=function(u){if(clearTimeout(l),e=null,o)n.readyState=WebSocket.CLOSED,c.dispatchEvent(s("close"));else{n.readyState=WebSocket.CONNECTING;var a=s("connecting");a.code=u.code,a.reason=u.reason,a.wasClean=u.wasClean,c.dispatchEvent(a),t||i||((n.settings.debug||r.debugAll)&&console.debug("ReconnectingWebSocket","onclose",n.url),c.dispatchEvent(s("close")));var l=n.settings.reconnectInterval*Math.pow(n.settings.reconnectDecay,n.reconnectAttempts);setTimeout((function(){n.reconnectAttempts++,n.open(!0)}),l>n.settings.maxReconnectInterval?n.settings.maxReconnectInterval:l)}},e.onmessage=function(t){(n.settings.debug||r.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",n.url,t.data);var e=s("message");e.data=t.data,c.dispatchEvent(e)},e.onerror=function(t){(n.settings.debug||r.debugAll)&&console.debug("ReconnectingWebSocket","onerror",n.url,t),c.dispatchEvent(s("error"))}},1==this.settings.automaticOpen&&this.open(!1),this.send=function(t){if(e)return(n.settings.debug||r.debugAll)&&console.debug("ReconnectingWebSocket","send",n.url,t),e.send(t);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(t,n){void 0===t&&(t=1e3),o=!0,e&&e.close(t,n)},this.refresh=function(){e&&e.close()}}n.r(e),r.prototype.onopen=function(t){},r.prototype.onclose=function(t){},r.prototype.onconnecting=function(t){},r.prototype.onmessage=function(t){},r.prototype.onerror=function(t){},r.debugAll=!1,r.CONNECTING=WebSocket.CONNECTING,r.OPEN=WebSocket.OPEN,r.CLOSING=WebSocket.CLOSING,r.CLOSED=WebSocket.CLOSED;var o=r;function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=_.defaults(n,{host:window.location.hostname,port:window.location.port,path:null,debug:0,params:{},safetyLimit:!0,protocol:"https:"===window.location.protocol?"wss:":"ws:"});try{var o=new URL(this.options.path);this.options.host=o.hostname,this.options.port=o.port,this.options.protocol="https:"===o.protocol?"wss:":"ws:",this.options.path=o.pathname}catch(t){}this.url=new URL("".concat(this.options.protocol,"//").concat(this.options.host,":").concat(this.options.port)),this.url.pathname=this.options.path||"",_.map(this.options.params,(function(t,e){return r.url.searchParams.set(e,t)})),this.name=e,this.active=!1,this.connected=!1,this.pending=!1,this.fetching=!1,this.pending_calls={},this.listeners={},this.unique_listeners={},this.socket=null,this.state_listeners={},this.event_limits={},this.event_limits_to=null}var e,n,r;return e=t,(n=[{key:"connect",value:function(){var t=this;this.connected||this.pending||(this.active=!0,this.pending=!0,this.options.debug&&this.logWarning("?>",this.url.href),this.socket=new o({url:this.url}),this.socket.addEventListener("open",(function(){return t.onOpen.apply(t,arguments)})),this.socket.addEventListener("close",(function(){return t.onClose.apply(t,arguments)})),this.socket.addEventListener("message",(function(){return t.receive.apply(t,arguments)})),this.socket.addEventListener("error",(function(){return t.onError.apply(t,arguments)})),this.updateState())}},{key:"onError",value:function(){this.pending=!1,this.connected=!1,this.updateState()}},{key:"onOpen",value:function(){var t=this;this.pending=!1,this.connected=!0,this.options.debug&&this.logSuccess("<>","!Connected"),_.map(this.pending_calls,(function(e,n){delete t.pending_calls[n],t.send(n,e)})),this.updateState()}},{key:"reconnect",value:function(){this.pending||(this.close(),this.connect())}},{key:"disconnect",value:function(){this.close()}},{key:"close",value:function(){this.socket&&this.socket.close(),this.pending=!1,this.connected=!1,this.updateState()}},{key:"onClose",value:function(t){this.pending=!1,this.connected=!1,this.options.debug&&this.logError("<x"),this.updateState()}},{key:"send",value:function(t,e,n){var r=this;this.connect();try{this.connected?(this.options.debug&&this.logInfo(">>",t,this.options.debug>1?e:""),n?setTimeout((function(){return r.socket.send(JSON.stringify({event:t,data:e}))}),n):this.socket.send(JSON.stringify({event:t,data:e}))):(this.pending_calls[t]=e,this.options.debug>2&&this.logError("Not sent","Socket is not connected yet"))}catch(n){this.pending_calls[t]=e,this.reconnect()}}},{key:"attachListener",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o=function(){e&&e.apply(void 0,arguments),r&&r(!1)},i=this.addListener(t,o);return n&&this.send(t,options)&&r&&r(!0),i}},{key:"disposeListener",value:function(t,e){var n=this,r=Math.random();return this.options.debug&&this.options.debug>2&&this.logInfo("+: ".concat(t,".").concat(e&&e.name)),this.connect(),!this.listeners[t]&&(this.listeners[t]={}),this.listeners[t][r]=e,function(){n.options.debug&&n.options.debug>2&&n.logInfo("-: ".concat(t,".").concat(e&&e.name));try{delete n.listeners[t][r]}catch(r){n.options.debug&&n.options.debug>2&&n.logError("-: ".concat(t,".").concat(e&&e.name," not found."))}}}},{key:"addListener",value:function(t,e){var n=this;return this.options.debug&&this.options.debug>2&&this.logInfo("-: ".concat(t,".").concat(e&&e.name)),this.connect(),!this.listeners[t]&&(this.listeners[t]={}),this.listeners[t][e]=e,function(){n.removeListener(t,e)}}},{key:"removeListener",value:function(t,e){this.options.debug&&this.options.debug>2&&this.logInfo("+: ".concat(t,".").concat(e&&e.name));try{delete this.listeners[t][e]}catch(n){this.options.debug&&this.options.debug>2&&this.logError("+: ".concat(t,".").concat(e&&e.name," not found."))}}},{key:"receive",value:function(t){var e=this,n=JSON.parse(t.data);n.error?this.options.debug&&this.logError("<!",n.event,this.options.debug>0?n.error:""):n.event&&(this.options.debug&&this.logSuccess("<<",n.event,this.options.debug>1?n.data:""),_.has(this.listeners,n.event)&&_.map(this.listeners[n.event],(function(t){return t&&t(n.data,e)})),_.has(this.unique_listeners,n.event)&&(this.unique_listeners[n.event](n.data,this),delete this.unique_listeners[n.event]))}},{key:"addStateListener",value:function(t,e){this.state_listeners[t]=e}},{key:"removeStateListener",value:function(t){this.state_listeners[t]&&delete this.state_listeners[t]}},{key:"updateState",value:function(){var t=this;_.map(this.state_listeners,(function(e){return _.isFunction(e)&&e(t)}))}},{key:"setArg",value:function(t,e){this.url.searchParams.set(t,e),this.reconnect()}},{key:"unsetArg",value:function(t){this.delArg(t)}},{key:"delArg",value:function(t){this.url.searchParams.delete(t),this.reconnect()}},{key:"once",value:function(t,e){this.options.debug&&this.options.debug>2&&this.logInfo("once: Method ".concat(t,".").concat(e&&e.name)),this.connect(),this.unique_listeners[t]=e}},{key:"request",value:function(t,e,n){var r=this;n=_.defaults(n,{method:"GET"});var o=this.link(t);this.options.debug&&this.logInfo(n.method,o,n),n.data&&(n.body=JSON.stringify(n.data)),this.fetching=!0,this.updateState(),fetch(o,n).then((function(t){return t.json()})).then(e).catch((function(t){r.logError(n.method,t)})).finally((function(){r.fetching=!0,r.updateState()}))}},{key:"link",value:function(t){var e=new URL(this.url);return e.pathname=e.pathname+t,e.protocol=document.location.protocol,e.href}},{key:"log",value:function(t,e,n){for(var r,o=arguments.length,i=new Array(o>3?o-3:0),c=3;c<o;c++)i[c-3]=arguments[c];(r=console).log.apply(r,["%c".concat(t," %c").concat(this.name,"%c:"),"font-weight:bold; color: ".concat(n),"margin-right: -5px; font-weight:bolder; color: white; background: ".concat(e),"color: ".concat(e)].concat(i))}},{key:"logSuccess",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.log.apply(this,[t,"#6eca1b","#6eca1b"].concat(n))}},{key:"logWarning",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.log.apply(this,[t,"orange","orange"].concat(n))}},{key:"logInfo",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.log.apply(this,[t,"#2196f3","#2196f3"].concat(n))}},{key:"logError",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.log.apply(this,[t,"red","red"].concat(n))}}])&&i(e.prototype,n),r&&i(e,r),t}();function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t,e,n){return(u=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l={},f=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];l[t]=u(c,[t].concat(n))};function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=function(t){return{consumer:t,active:t.active,fetching:t.fetching,pending:t.pending,connected:t.connected}},b=function(t){var e=Math.random(),n=l[t],r=p(React.useState(d(n)),2),o=r[0],i=r[1];return React.useEffect((function(){return n&&n.addStateListener(e,(function(t){return i(d(t))})),n&&n.connect(),function(){return n&&n.removeStateListener(e)}}),[]),o},h=n(0),v=n.n(h);function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.isString(t)&&(t=O(O({},e),{},{event:t}));var n=t,r=n.action,o=n.data,i=n.params,c=void 0===i?{}:i,s=n.passive,u=void 0!==s&&s,a=n.intercept,f=void 0===a?null:a,p=n.observe,d=void 0===p?null:p,b=n.delay,h=void 0===b?null:b,g=t,m=g.event,j=g.stream,S=g.hash,w=void 0===S?null:S,P=g.listen,E=v.a.useState({data:o||{},fetching:!u}),k=y(E,2),A=k[0],x=k[1],D=function(){console.error("%c [_________] %c Sending impossibe: Consumer not found","font - weight: bolder; 'background: #222; color: #bada55'","font-weight:bold",t)},I=function(){return function(){}},L=null,R=null;if(j){var T=_.split(j,"#");T.length>=2&&(j=_.trim(T[0]),w=_.trim(T[1]))}if(j&&r&&(m=_.trim("".concat(j,".").concat(r))),m&&w&&(m="".concat(m,"#").concat(w)),P=_.isArray(P)?P:P?[P]:[m,JSON.stringify(c)],m){var C=_.split(m,":");C.length>=2&&(L=l[C[0]],R=C[1],L&&(D=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!e&&x(O(O({},A),{},{fetching:!0})),L.send(R,t||c)},I=function(){return L.disposeListener(R,(function(t){if(f){var e=f(t,A.data,M);!0===e?M(t):e&&M(e)}else M(t);d&&d(t,A.data,M)}))}))}var N=function(){D(c)},W=function(){D(c,!0)},M=function(t){return x({data:t,fetching:!1})};return v.a.useEffect((function(){var t=I();return u||(h?setTimeout((function(){return D(c)}),h):D(c)),t}),P),O({stream:j,params:c,event:m,consumer:L,hash:w,send:D,refresh:N,dispatch:W},A)};function S(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var w=function(t){var e=t.children,n=S(t,["children"]);return e(j(n))};function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.isString(t)&&(t=E(E({},e),{},{event:t,passive:!0})),j(E({passive:!0},t))};function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var R=function(t){var e=t.action,n=void 0===e?"search":e,r=t.filters,o=void 0===r?{}:r,i=t.page,c=void 0===i?1:i,s=t.limit,u=void 0===s?25:s,a=t.order,l=void 0===a?null:a,f=L(t,["action","filters","page","limit","order"]),p=j(D({action:n,params:_.merge({filters:o,page:c,limit:u,order:l},f.params)},f));return D(D({},p),{},{filters:o,search:p.send})};function T(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var C=function(t){var e=t.children,n=T(t,["children"]);return e(R(n))};function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var J=function(t){var e=t.data,n=t.action,r=void 0===n?"delete":n,o=t.passive,i=void 0===o||o,c=t.params,s=void 0===c?{}:c,u=t.intercept,a=t.onSuccess,l=t.onErrors,f=t.pk,p=void 0===f?"id":f,d=G(t,["data","action","passive","params","intercept","onSuccess","onErrors","pk"]),b=q(v.a.useState(e),2),h=b[0],y=b[1],g=q(v.a.useState(!1),2),O=g[0],m=g[1],S=q(v.a.useState(null),2),w=S[0],P=S[1],E=u||function(t,n,r){t[p]!==e[p]&&t[p]!==s[p]||(t.errors?(m(!1),P(t.errors),console.error(t.errors),l&&l(t.errors)):(P(null),m(!0),a&&a(h)))},k=j(W({action:r,passive:i,params:h&&h[p]?W(W({},s),{},{id:h[p]}):s,intercept:E},d));return v.a.useEffect((function(){y(e)}),[e]),W(W({},k),{},{errors:w,success:O,deleted:O,submit:function(t){return k.send(W(W({},t||{}),{},{id:h[p]}))}})};function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var V=function(t){var e=t.action,n=void 0===e?"retrieve":e,r=t.params,o=void 0===r?{}:r,i=t.versatile,c=void 0!==i&&i,s=t.intercept,u=t.pk,a=void 0===u?"id":u,l=B(t,["action","params","versatile","intercept","pk"]);return j(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({action:n,intercept:s||(c?null:function(t){return _.toString(t[a])==_.toString(o[a])})},l))};function z(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var H=function(t){var e=t.deletable,n=z(t,["deletable"]),r=n.stream,o=n.data,i=n.pk;return e&&J({stream:r,data:o,pk:i}).deleted?null:children(V(n))};function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Z(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var $=function(t){var e=t.object,n=t.action,r=void 0===n?"form":n,o=t.passive,i=void 0!==o&&o,c=t.params,s=void 0===c?{}:c,u=t.intercept,a=t.onSuccess,l=t.onErrors,f=Z(t,["object","action","passive","params","intercept","onSuccess","onErrors"]),p=Y(v.a.useState(e),2),d=p[0],b=p[1],h=Y(v.a.useState(!1),2),y=h[0],g=h[1],O=Y(v.a.useState(null),2),m=O[0],S=O[1],w=u||function(t,e,n){t.errors?(S(t.errors),l&&l(t.errors)):!0===t.success?(b(t.object),g(!0),a&&a(t.object)):n(t)},P=j(Q({data:E,action:r,passive:i,params:d&&d.id?Q(Q({},s),{},{id:d.id}):Q(Q({},s),d),intercept:w},f)),E=P.data,k=Z(P,["data"]),A=E.fields||{};return _.map(A,(function(t){t.event&&k.api&&(t.stream="".concat(k.api.name,":").concat(t.event)),A[t.name]=t})),Q(Q({},k),{},{object:d,fields:A,errors:m,success:y,setValue:function(t,e){return setData(Q(Q({},E),{},X({},t,e)))},submit:function(t){return k.send(d&&d.id?Q(Q({},s),{},{submit:t,id:E.id}):Q(Q(Q({},s),d),{},{submit:t,id:E.id}))}})};function tt(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var et=function(t){var e=t.children,n=tt(t,["children"]);return e($(n))};function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ct(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var st=function(t){var e=t.data,n=t.action,r=void 0===n?"save":n,o=t.passive,i=void 0===o||o,c=t.params,s=void 0===c?{}:c,u=t.intercept,a=t.onSuccess,l=t.onErrors,f=ct(t,["data","action","passive","params","intercept","onSuccess","onErrors"]),p=it(v.a.useState(e),2),d=p[0],b=p[1],h=it(v.a.useState(!1),2),y=h[0],g=h[1],O=it(v.a.useState(null),2),m=O[0],S=O[1],w=u||function(t,e,n){t.errors?(g(!1),S(t.errors),console.error(t.errors),l&&l(t.errors)):(n(rt(rt({},d),{},{id:t.id})),S(null),g(!0),a&&a(d))},P=j(rt({action:r,passive:i,params:d&&d.id?rt(rt({},s),{},{id:d.id}):s,intercept:w},f));return v.a.useEffect((function(){b(e)}),[e]),rt(rt({},P),{},{data:d,errors:m,success:y,setValue:function(t,e){return b(rt(rt({},d),{},ot({},t,e)))},submit:function(t){return P.send(rt(rt({},t||d),{},{id:d.id}))}})};function ut(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var at=function(t){var e=t.children,n=ut(t,["children"]);return e(st(n))};function lt(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var ft=function(t){var e=t.children,n=lt(t,["children"]),r=J(n);r.deleted;return e(lt(r,["deleted"]))};function pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,n=React.useState(t),r=pt(n,2),o=r[0],i=r[1];return React.useEffect((function(){var n=setTimeout((function(){i(t)}),e);return function(){clearTimeout(n)}}),[t]),o};function bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,n=React.useState(t),r=bt(n,2),o=r[0],i=r[1];return[o,dt(o,e),i]};n.d(e,"useConsumer",(function(){return b})),n.d(e,"registerConsumer",(function(){return f})),n.d(e,"Bind",(function(){return w})),n.d(e,"useBind",(function(){return j})),n.d(e,"usePassiveBind",(function(){return A})),n.d(e,"Search",(function(){return C})),n.d(e,"useSearch",(function(){return R})),n.d(e,"Retrieve",(function(){return H})),n.d(e,"useRetrieve",(function(){return V})),n.d(e,"Form",(function(){return et})),n.d(e,"useForm",(function(){return $})),n.d(e,"Save",(function(){return at})),n.d(e,"useSave",(function(){return st})),n.d(e,"Delete",(function(){return ft})),n.d(e,"useDelete",(function(){return J})),n.d(e,"useDebouncedState",(function(){return ht})),n.d(e,"useDebounced",(function(){return dt}))}]);